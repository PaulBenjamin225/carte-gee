<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte Interactive GEE</title>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://earthengine.googleapis.com/api.js"></script>
    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        // Initialiser Google Earth Engine
        ee.initialize();

        // Charger la carte depuis Google Earth Engine
        var abidjan = ee.FeatureCollection("FAO/GAUL/2015/level2")
          .filter(ee.Filter.eq('ADM2_NAME', 'Abidjan'));

        var srtm = ee.Image('USGS/SRTMGL1_003').clip(abidjan);
        var slope = ee.Terrain.slope(srtm);
        var lowElevation = srtm.lt(10); // Zones sous 10 mètres d'altitude
        var lowSlope = slope.lt(5); // Pentes inférieures à 5 degrés
        var floodRisk = lowElevation.and(lowSlope);

        var floodRiskVis = {
          palette: ['white', 'red'],
          opacity: 0.7
        };

        // Ajouter la couche de risque d'inondation
        var map = ui.Map();
        map.addLayer(floodRisk.selfMask(), floodRiskVis, 'Risque d\'inondation');
        map.centerObject(abidjan, 10);
        map.style().set('height', '100%');

        document.getElementById('map').appendChild(map.getMapId());
    </script>
</body>
</html>
